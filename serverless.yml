

service: health-yeah-nodejs # NOTE: update this with your service name
custom:
  functionPrefix: "tms-api-ir-"
  envAPI: ${opt:alias, 'dev'}

provider:
  name: aws
  runtime: nodejs8.10
  stage: ${opt:stage, 'dev'}
  region: us-east-1
  profile: dev-umar
  role: arn:aws:iam::747465455461:role/developer-backend
  deploymentBucket: umar9000
  apiGateway: # Optional API Gateway global config
    restApiId: ody9wfozz9 # REST API resource ID. Default is generated by the framework
    restApiRootResourceId: 9ag6w19o34 # Root resource ID, represent as / path
    restApiResources: # List of existing resources that were created in the REST API. This is required or the stack will be conflicted
    '/health': 2f0uup


environment:
  NODE_ENV: ${self:custom.envAPI}
  DB_HOST: localhost.db

functions:
  checkHealthYeah:
    name: checkHealthYeah-${opt:stage}
    handler: handler.handler
    timeout: 30
    events:
      - http: 
         path: '/health'
         method: get